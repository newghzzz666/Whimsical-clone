# Whimsical Clone - åä½œæ— é™ç”»å¸ƒ

ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„åä½œå¼æ€ç»´å¯¼å›¾å’Œç¬”è®°åº”ç”¨ï¼Œçµæ„Ÿæ¥è‡ª Whimsicalã€‚æ”¯æŒæ— é™ç”»å¸ƒã€è‡ªåŠ¨ä¿å­˜ã€AI å†…å®¹ç”Ÿæˆå’Œäº‘å­˜å‚¨ã€‚

![æ„å»ºçŠ¶æ€](https://img.shields.io/badge/build-passing-brightgreen)
![è®¸å¯è¯](https://img.shields.io/badge/license-MIT-blue)
![ç‰ˆæœ¬](https://img.shields.io/badge/version-1.0.0-blue)

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¨ **æ— é™ç”»å¸ƒ** - å¯æ‹–æ‹½ç§»åŠ¨ã€ç¼©æ”¾çš„æ— é™å·¥ä½œç©ºé—´
- ğŸ“ **å¯Œæ–‡æœ¬ç¬”è®°** - åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤å’Œè°ƒæ•´ç¬”è®°å¤§å°
- ğŸ”— **è¿æ¥å…³ç³»** - åœ¨ç¬”è®°ä¹‹é—´åˆ›å»ºæœ‰å‘è¿æ¥ï¼Œè¡¨ç¤ºå…³ç³»
- âœ¨ **AI åŠ©æ‰‹** - ä½¿ç”¨ AI å¿«é€Ÿç”Ÿæˆå’Œä¼˜åŒ–å†…å®¹
- â˜ï¸ **äº‘ç«¯åŒæ­¥** - ä½¿ç”¨ Cloudflare R2 å­˜å‚¨ä¿å­˜æ•°æ®
- ğŸ’¾ **è‡ªåŠ¨ä¿å­˜** - å®šæ—¶è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
- ğŸ“Š **å¤šè‰²ç¬”è®°** - 5 ç§é¢œè‰²çš„ç¬”è®°å¡ç‰‡
- ğŸ¯ **ç¼©æ”¾æ§åˆ¶** - çµæ´»çš„ç¼©æ”¾åŠŸèƒ½ï¼ˆ30% - 300%ï¼‰
- ğŸ“¥ **PDF å¯¼å‡º** - å°†ç”»å¸ƒå¯¼å‡ºä¸ºé«˜è´¨é‡ PDF
- ğŸ¨ **æ·±è‰²/æµ…è‰²ä¸»é¢˜** - Tailwind CSS é©±åŠ¨çš„å“åº”å¼è®¾è®¡

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** - UI æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„ JavaScript
- **Vite** - æ–°ä¸€ä»£æ„å»ºå·¥å…·
- **Tailwind CSS** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **html2canvas** - ç”»å¸ƒæˆªå›¾
- **jsPDF** - PDF ç”Ÿæˆ

### åç«¯ / éƒ¨ç½²
- **Cloudflare Workers** - æ— æœåŠ¡å™¨è®¡ç®—
- **Cloudflare R2** - å¯¹è±¡å­˜å‚¨
- **Wrangler** - Cloudflare Workers CLI

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 16+ å’Œ npm / yarn
- Cloudflare è´¦æˆ·ï¼ˆç”¨äºéƒ¨ç½²ï¼‰

### å®‰è£…

1. **å…‹éš†ä»“åº“**
```bash
git clone https://github.com/newghzzz666/Whimsical-clone.git
cd Whimsical-clone
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

è®¿é—® `http://localhost:5173` å³å¯åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹åº”ç”¨ã€‚

## ä½¿ç”¨æŒ‡å—

### åŸºç¡€æ“ä½œ

#### åˆ›å»ºç¬”è®°
1. ç‚¹å‡»åº•éƒ¨å·¥å…·æ çš„å½©è‰²åœ†å½¢æŒ‰é’®åˆ›å»ºç¬”è®°
2. ç¬”è®°ä¼šåœ¨è§†å£ä¸­å¿ƒåˆ›å»ºï¼Œå¯ä»¥ç«‹å³å¼€å§‹è¾“å…¥

#### ç¼–è¾‘ç¬”è®°
- **è¾“å…¥æ–‡æœ¬** - ç‚¹å‡»ç¬”è®°å¡ç‰‡ï¼Œåœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥å†…å®¹
- **ç§»åŠ¨ç¬”è®°** - ç‚¹å‡»å¹¶æ‹–æ‹½ç¬”è®°å¡ç‰‡ç§»åŠ¨ä½ç½®
- **è°ƒæ•´å¤§å°** - æ‹–åŠ¨ç¬”è®°å³ä¸‹è§’çš„è°ƒæ•´æ‰‹æŸ„æ”¹å˜å¤§å°
- **æ”¹å˜å±‚çº§** - ç‚¹å‡»ç¬”è®°æ—¶è‡ªåŠ¨å°†å…¶ç½®äºæœ€å‰

#### åˆ é™¤ç¬”è®°
- ç‚¹å‡»ç¬”è®°å³ä¸Šè§’çš„ âœ• æŒ‰é’®åˆ é™¤

#### åˆ›å»ºè¿æ¥
1. ç‚¹å‡»æºç¬”è®°å³ä¸Šè§’çš„ ğŸ”— æŒ‰é’®ï¼Œè¿›å…¥é“¾æ¥æ¨¡å¼
2. ç‚¹å‡»ç›®æ ‡ç¬”è®°å®Œæˆè¿æ¥
3. ç‚¹å‡»è¿æ¥ä¸­ç‚¹çš„åœ†å½¢æŒ‰é’®å¯ä»¥åˆ é™¤è¿æ¥

#### ç¼©æ”¾ç”»å¸ƒ
- ç‚¹å‡»å·¥å…·æ çš„ **âˆ’** å’Œ **+** æŒ‰é’®è°ƒæ•´ç¼©æ”¾çº§åˆ«ï¼ˆ30% - 300%ï¼‰
- æ˜¾ç¤ºå½“å‰ç¼©æ”¾ç™¾åˆ†æ¯”

#### AI å†…å®¹ç”Ÿæˆ
1. ç‚¹å‡»ç¬”è®°å³ä¸Šè§’çš„ âœ¨ æŒ‰é’®
2. åœ¨ AI Modal ä¸­è¾“å…¥æç¤ºè¯­
3. AI å°†æ ¹æ®å½“å‰ç¬”è®°å†…å®¹å’Œå…¶ä»–ç¬”è®°ä¸Šä¸‹æ–‡ç”Ÿæˆæ–°å†…å®¹
4. é¢„è§ˆç”Ÿæˆçš„å†…å®¹åç‚¹å‡» **Apply Content** åº”ç”¨

#### å¯¼å‡º PDF
- ç‚¹å‡»å·¥å…·æ çš„ **ğŸ“„ PDF** æŒ‰é’®
- è‡ªåŠ¨ç”ŸæˆåŒ…å«æ‰€æœ‰ç¬”è®°çš„ PDF æ–‡ä»¶å¹¶ä¸‹è½½

#### æ•°æ®åŒæ­¥åˆ° R2
1. ç‚¹å‡»å·¥å…·æ çš„ **âš™ï¸** æŒ‰é’®æ‰“å¼€è®¾ç½®
2. é…ç½® Cloudflare R2 å‡­è¯ï¼š
   - R2 Account ID
   - R2 Access Key ID
   - R2 Secret Access Key
   - R2 Bucket Name
   - R2 Endpoint
3. ç‚¹å‡»å·¥å…·æ çš„ **â˜ï¸ Sync** æŒ‰é’®åŒæ­¥æ•°æ®

### é”®ç›˜å¿«æ·é”®

| æ“ä½œ | å¿«æ·é”® |
|-----|--------|
| åˆ›å»ºç¬”è®° | ç‚¹å‡»å·¥å…·æ æŒ‰é’® |
| åˆ é™¤ç¬”è®° | ç‚¹å‡» âœ• æŒ‰é’® |
| å–æ¶ˆé€‰æ‹© | ç‚¹å‡»ç©ºç™½ç”»å¸ƒ |

## éƒ¨ç½²åˆ° Cloudflare

### å‰ç½®è¦æ±‚

1. **Cloudflare è´¦æˆ·** - [æ³¨å†Œ](https://dash.cloudflare.com/sign-up)
2. **Wrangler CLI** - å·²é€šè¿‡ npm å®‰è£…
3. **R2 Bucket** - ç”¨äºå­˜å‚¨æ•°æ®
4. **API Token** - ç”¨äº Wrangler è®¤è¯

### æ­¥éª¤ 1: é…ç½® Wrangler

1. **ç™»å½• Cloudflare**
```bash
wrangler login
```
æµè§ˆå™¨ä¼šæ‰“å¼€ Cloudflare ä»ªè¡¨æ¿ï¼Œæˆæƒ Wrangler è®¿é—®æƒé™ã€‚

2. **æ›´æ–° wrangler.toml**
```toml
name = "whimsical-clone"
account_id = "YOUR_ACCOUNT_ID"  # ä» Cloudflare ä»ªè¡¨æ¿è·å–
main = "src/index.ts"
compatibility_date = "2024-01-01"

[env.production]
route = "your-domain.com/*"     # æ›¿æ¢ä¸ºæ‚¨çš„åŸŸå
zone_name = "your-domain.com"
```

### æ­¥éª¤ 2: åˆ›å»º R2 Bucket

1. ç™»å½• [Cloudflare ä»ªè¡¨æ¿](https://dash.cloudflare.com/)
2. è¿›å…¥ **R2** éƒ¨åˆ†
3. ç‚¹å‡» **Create bucket** åˆ›å»ºæ–° bucket
4. å‘½åä¸º `whimsical-clone-data`ï¼ˆæˆ–å…¶ä»–åç§°ï¼‰
5. è®°ä¸‹ Endpoint URL

### æ­¥éª¤ 3: ç”Ÿæˆ R2 API Token

1. åœ¨ R2 é¡µé¢ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ **Manage API tokens**
2. ç‚¹å‡» **Create API token**
3. é€‰æ‹©ä»¥ä¸‹æƒé™ï¼š
   - Object Read
   - Object Write
   - List Buckets
4. è®¾ç½® TTLï¼ˆå¯é€‰ï¼‰
5. ç‚¹å‡» **Create API Token**
6. å¤åˆ¶ä»¥ä¸‹ä¿¡æ¯ï¼š
   - Access Key ID
   - Secret Access Key

### æ­¥éª¤ 4: è®¾ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.production.local` æ–‡ä»¶ï¼š

```bash
VITE_API_BASE_URL=https://whimsical-clone.your-domain.com
VITE_R2_BUCKET_NAME=whimsical-clone-data
```

åœ¨ Wrangler Secrets ä¸­æ·»åŠ  R2 å‡­è¯ï¼š

```bash
wrangler secret put R2_ACCOUNT_ID
wrangler secret put R2_ACCESS_KEY_ID
wrangler secret put R2_SECRET_ACCESS_KEY
wrangler secret put R2_BUCKET_NAME
wrangler secret put R2_ENDPOINT
```

### æ­¥éª¤ 5: æ„å»ºå’Œéƒ¨ç½²

1. **æ„å»ºå‰ç«¯**
```bash
npm run build
```

2. **éƒ¨ç½²åˆ° Cloudflare Workers**
```bash
wrangler deploy
```

3. **éªŒè¯éƒ¨ç½²**
è®¿é—®æ‚¨é…ç½®çš„åŸŸåæˆ– Workers è‡ªåŠ¨åˆ†é…çš„ URLï¼š
```
https://whimsical-clone.<your-account>.workers.dev
```

### æ­¥éª¤ 6: é…ç½®åº”ç”¨è®¾ç½®

1. åœ¨éƒ¨ç½²çš„åº”ç”¨ä¸­æ‰“å¼€è®¾ç½®ï¼ˆâš™ï¸ æŒ‰é’®ï¼‰
2. è¾“å…¥ä»¥ä¸‹ä¿¡æ¯ï¼š
   - **R2 Account ID**: ä» Cloudflare ä»ªè¡¨æ¿è·å–
   - **R2 Access Key ID**: ä» API Token å¤åˆ¶
   - **R2 Secret Access Key**: ä» API Token å¤åˆ¶
   - **R2 Bucket Name**: æ‚¨åˆ›å»ºçš„ bucket åç§°
   - **R2 Endpoint**: R2 bucket çš„ç«¯ç‚¹ URL
3. ç‚¹å‡» **Save** ä¿å­˜è®¾ç½®

### éƒ¨ç½²æ•…éšœæ’é™¤

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|-----|---------|
| `wrangler not found` | è¿è¡Œ `npm install -g wrangler` æˆ–ä½¿ç”¨ `npx wrangler` |
| Authentication failed | è¿è¡Œ `wrangler logout` ç„¶å `wrangler login` é‡æ–°è®¤è¯ |
| R2 credentials invalid | æ£€æŸ¥ API Token æ˜¯å¦è¿‡æœŸï¼Œåœ¨ä»ªè¡¨æ¿é‡æ–°ç”Ÿæˆ |
| 403 Forbidden | ç¡®ä¿ R2 API Token æ‹¥æœ‰è¯»å†™æƒé™ |
| æ•°æ®åŒæ­¥å¤±è´¥ | æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ŒéªŒè¯ R2 bucket åç§°å’Œ endpoint æ˜¯å¦æ­£ç¡® |

## å¼€å‘

### å¯ç”¨è„šæœ¬

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆç”Ÿäº§æ„å»º
npm run preview

# è¿è¡Œ ESLint æ£€æŸ¥ä»£ç 
npm run lint

# éƒ¨ç½²åˆ° Cloudflare Workers
npm run deploy
```

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ App.tsx                 # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ main.tsx                # åº”ç”¨å…¥å£
â”œâ”€â”€ index.css               # å…¨å±€æ ·å¼
â”‚
â”œâ”€â”€ components/             # React ç»„ä»¶
â”‚   â”œâ”€â”€ Note.tsx            # ç¬”è®°å¡ç‰‡ç»„ä»¶
â”‚   â”œâ”€â”€ Toolbar.tsx         # å·¥å…·æ ç»„ä»¶
â”‚   â”œâ”€â”€ Connection.tsx      # è¿æ¥å…³ç³»ç»„ä»¶
â”‚   â”œâ”€â”€ AIModal.tsx         # AI å¯¹è¯æ¨¡æ€æ¡†
â”‚   â””â”€â”€ SettingsModal.tsx   # è®¾ç½®æ¨¡æ€æ¡†
â”‚
â”œâ”€â”€ services/               # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ storageService.ts   # å­˜å‚¨å’Œ R2 åŒæ­¥
â”‚   â””â”€â”€ aiService.ts        # AI å†…å®¹ç”Ÿæˆ
â”‚
â”œâ”€â”€ types/                  # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts            # å…±äº«ç±»å‹
â”‚
â””â”€â”€ constants/              # å¸¸é‡å®šä¹‰
    â””â”€â”€ index.ts            # åº”ç”¨å¸¸é‡
```

### æ·»åŠ æ–°åŠŸèƒ½

1. **æ–°ç»„ä»¶** - åœ¨ `src/components/` åˆ›å»ºæ–°æ–‡ä»¶
2. **æ–°æœåŠ¡** - åœ¨ `src/services/` æ·»åŠ ä¸šåŠ¡é€»è¾‘
3. **æ–°ç±»å‹** - åœ¨ `src/types/index.ts` å®šä¹‰ç±»å‹
4. **å¸¸é‡** - åœ¨ `src/constants/index.ts` æ·»åŠ 

## é…ç½®è¯´æ˜

### Tailwind CSS

é¡¹ç›®ä½¿ç”¨ Tailwind CSS ç”¨äºæ ·å¼ã€‚é…ç½®æ–‡ä»¶ï¼š
- `tailwind.config.js` - Tailwind ä¸»é…ç½®
- `postcss.config.cjs` - PostCSS é…ç½®

### TypeScript

ä¸¥æ ¼çš„ TypeScript é…ç½®ç¡®ä¿ç±»å‹å®‰å…¨ï¼š
- `tsconfig.json` - ä¸» TypeScript é…ç½®
- `tsconfig.node.json` - Node è„šæœ¬çš„ TypeScript é…ç½®

### Vite

ä¼˜åŒ–çš„ Vite é…ç½®ç”¨äºå¿«é€Ÿå¼€å‘å’Œç”Ÿäº§æ„å»ºï¼š
- `vite.config.ts` - Vite é…ç½®

## æµè§ˆå™¨æ”¯æŒ

- Chrome / Chromium (æœ€æ–°ç‰ˆ)
- Firefox (æœ€æ–°ç‰ˆ)
- Safari (æœ€æ–°ç‰ˆ)
- Edge (æœ€æ–°ç‰ˆ)

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## è´¡çŒ®

æ¬¢è¿æäº¤ Pull Requestï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## è”ç³»æ–¹å¼

- GitHub: [@newghzzz666](https://github.com/newghzzz666)

## ç›¸å…³èµ„æº

- [Cloudflare æ–‡æ¡£](https://developers.cloudflare.com/)
- [Cloudflare R2 æŒ‡å—](https://developers.cloudflare.com/r2/)
- [React æ–‡æ¡£](https://react.dev/)
- [TypeScript æ–‡æ¡£](https://www.typescriptlang.org/)
- [Vite æ–‡æ¡£](https://vitejs.dev/)
- [Tailwind CSS æ–‡æ¡£](https://tailwindcss.com/)

## å¿«é€Ÿä½“éªŒé“¾æ¥

é¡¹ç›®é…ç½®äº† GitHub Actions è‡ªåŠ¨éƒ¨ç½²åˆ° GitHub Pagesï¼ˆåˆ†æ”¯ `gh-pages`ï¼‰ã€‚åœ¨å‘ `main` åˆ†æ”¯æ¨é€åï¼ŒCI ä¼šè‡ªåŠ¨æ„å»ºå¹¶å°† `dist/` å‘å¸ƒåˆ° GitHub Pagesã€‚

é¢„æœŸçš„ä½“éªŒé“¾æ¥ï¼ˆè‹¥ä»“åº“ä¸ºå…¬å¼€ä¸”ä½¿ç”¨é»˜è®¤ pages åŸŸï¼‰ï¼š

```
https://newghzzz666.github.io/Whimsical-clone/
```

æ³¨æ„ï¼šè¦è§¦å‘éƒ¨ç½²è¯·å°†æ›´æ”¹æ¨é€åˆ° `main`ï¼š

```bash
git add .
git commit -m "Enable GitHub Pages auto-deploy"
git push origin main
```

éƒ¨ç½²å®Œæˆåï¼Œä¸Šè¿° URL å°†æä¾›ä¸€ä¸ªå¿«é€Ÿåœ¨çº¿ä½“éªŒé¡µé¢ï¼ˆç”± GitHub Pages æä¾›ï¼‰ã€‚